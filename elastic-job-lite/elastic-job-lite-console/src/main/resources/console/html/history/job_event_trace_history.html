<div class="index-content">
    <section class="content-header">
        <h4><strong data-lang="sidebar-job-trace"></strong></h4>
        <ol class="breadcrumb">
            <li class="active"><i class="fa fa-history" data-lang="sidebar-job-history"></i></li>
            <li class="active" data-lang="sidebar-job-trace"></li>
        </ol>
    </section>
    <section class="content">
        <div id="jobExecDetailToolbar">
            <div class="form-inline" role="form">
                <div class="form-group toolbar">
                    <label for="job-name" data-lang="job-name"></label>
                    <input type="text" class="form-control" id="job-name" placeholder="">
                </div>
                <div class="form-group toolbar">
                    <label for="instance-id" data-lang="server-ip"></label>
                    <input type="text" class="form-control" data-inputmask="'alias':'ip'" data-mask="" id="instance-id">
                </div>
                <br/>
                <div class="form-group toolbar">
                    <label for="start-time" data-lang="start-time"></label>
                    <input type="text" class="form-control custom-datepicker" id="start-time">
                </div>
                <!-- div class="form-group toolbar">
                    <label for="end-time" data-lang="complete-time"></label>
                    <input type="text" class="form-control custom-datepicker" id="end-time">
                </div>
                <div class="form-group">
                    <div id="execute-result">
                        <label data-lang="execute-result"></label>:
                        <input type="radio" name="isSuccess" value="1"><label data-lang="execute-result-success"></label>
                        <input type="radio" name="isSuccess" value="0"><label data-lang="execute-result-failure"></label>
                        <input type="radio" name="isSuccess" value="" checked="checked"><label data-lang="execute-result-all"></label>
                    </div>
                </div -->
            </div>
        </div>
        <table id="job-exec-details-table"
            data-show-refresh="true"
            data-show-toggle="true"
            data-striped="true"
            data-unique-id="taskId"
            data-flat="true"
            data-click-to-select="true"
            data-row-style="rowStyle"
            data-query-params="queryParams"
            data-query-params-type="notLimit"
            data-pagination="true"
            data-page-list="[10, 20, 50, 100]"
            data-side-pagination="server"
            data-show-columns="true"
            data-toolbar="#jobExecDetailToolbar"
            data-local="zh-CN">
            <thead>
                <tr>
                    <th data-field="jobName" data-sortable="true" data-formatter="viewJobOptions"><span data-lang="job-name"></span></th>
                    <th data-field="instanceId" data-sortable="true"><span data-lang="server-instance"></span></th>
                    <th data-field="jobProps"><span data-lang="job-props"></span></th>
                    <th data-field="startTime" data-sortable="true" data-formatter="dateTimeFormatter"><span data-lang="start-time"></span></th>
                    <th data-field="state" data-sortable="true" data-formatter="splitJobState"><span data-lang="job-state"></span></th>
                    <th data-field="jobType"><span data-lang="job-type"></span></th>
                </tr>
            </thead>
        </table>
        
        <div id="history-status-modal" class="modal">
            <div class="modal-dialog" id="modal-dialog-width">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h5><strong data-lang="sidebar-history-status"></strong></h5>
                    </div>
                    <div class="modal-body">
                        <table id="job-exec-status-table"
				            data-striped="true" data-toggle="table" data-unique-id="id">
				            <thead>
				                <tr>
				                    <th data-field="eventTime" data-sortable="true" data-formatter="dateTimeFormatter"><span data-lang="start-time"></span></th>
				                    <th data-field="state"><span data-lang="job-state"></span></th>
				                    <th data-field="message" data-formatter="splitFormatter"><span data-lang="comments"></span></th>
				                </tr>
				            </thead>
				        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn-xs btn-primary" data-dismiss="modal" data-lang="operation-cancel"></button>
                    </div>
                </div>
            </div>
        </div>
        <div id="history-execution-modal" class="modal">
            <div class="modal-dialog" id="modal-dialog-width">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h5><strong data-lang="sidebar-job-trace"></strong></h5>
                    </div>
                    <div class="modal-body">
                        <table id="job-exec-execution-table"
				            data-striped="true" data-toggle="table" data-unique-id="id">
				            <thead>
				                <tr>
				                    <th data-field="shardId"><span data-lang="job-sharding-item"></span></th>
				                    <th data-field="startTime" data-sortable="true" data-formatter="dateTimeFormatter"><span data-lang="start-time"></span></th>
				                    <th data-field="finishTime" data-sortable="true" data-formatter="dateTimeFormatter"><span data-lang="complete-time"></span></th>
				                    <!-- <th data-field="success"><span data-lang="job-state"></span></th> -->
				                    <th data-field="message" data-formatter="splitFormatter"><span data-lang="failure-reason"></span></th>
				                    <th data-field="execSource" data-formatter="splitExecutSource"><span data-lang="execute-source"></span></th>
				                </tr>
				            </thead>
				        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn-xs btn-primary" data-dismiss="modal" data-lang="operation-cancel"></button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<script src="lib/bootstrap-table/bootstrap-table.js"></script>
<script src="lib/bootstrap-table/bootstrap-table-zh-CN.min.js"></script>
<script src="lib/daterangepicker/moment.min.js"></script>
<script src="lib/daterangepicker/daterangepicker.js"></script>
<script src="lib/input-mask/jquery.inputmask.js"></script>
<script src="lib/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="lib/input-mask/jquery.inputmask.extensions.js"></script>
<script src="js/util/formatter.js"></script>
<script src="js/history/job_event_trace_history.js"></script>
